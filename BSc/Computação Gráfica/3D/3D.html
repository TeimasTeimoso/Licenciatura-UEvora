<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Secretária</title>
    <script type='text/javascript' src='libs/x3d/x3dom-full.js'>
    </script>
    <link rel="stylesheet" href="../style/style.css" type="text/css">
    <link rel='stylesheet' type='text/css' href='../lib/x3dom.css' />
</head>

<body>

    <h1 id="Topo"><a class="sitea" href="../index.html">Computação Gráfica</a></h1>

    <X3D width="860" height="624">
         <Scene>
            <background skyColor="0.9375 0.8984 0.5469">
                    <!-- khaki -->
            </background>
            <Group def = "estrutura">
                <Transform def= "topo" translation="0 0 0">
                    <Shape>
                        <Appearance>
                            <ImageTexture url = "./brow2.jpg";>
                            </ImageTexture>
                        </Appearance>
                        <Box size='8 0.5 4'/>
                    </Shape>
                </Transform>

                <Transform def= "pernaDireita" translation="-3.75 -1.5 0">
                        <Shape>
                            <Appearance>
                                <ImageTexture url = "./brow2.jpg";>
                                </ImageTexture>
                            </Appearance>
                            <Box size='0.5 3 4'/>
                        </Shape>
                </Transform>
                
                <Transform def = "traseira" translation="2.5 -1.5 -1.75">
                    <Shape>
                        <Appearance>
                            <ImageTexture url = "./brow2.jpg";>
                            </ImageTexture>
                        </Appearance>
                        <Box size = '3 3 0.5'></Box>
                    </Shape>
                </Transform>

                <!---Como as pernas são iguais, aplica-se uma translação de uma perna no eixo do X-->
                <!---Sendo que -2.75 passou a ser 0. 2.75 é o centro do referencial e 5.5 é a outra margem-->
                <Transform def = "pernaEsquerda" translation= "7.5 0 0">
                    <Shape USE = "pernaDireita"/>
                </Transform>

                <Transform def = "divisao" translation = "5 0 0">
                    <Shape USE = "pernaDireita"/>
                </Transform>

                <Transform def = "tabuaTraseira" translation = "-1.25 -0.9 -1.75">
                        <Shape>
                            <Appearance>
                                <ImageTexture url = "./brow2.jpg";>
                                </ImageTexture>
                            </Appearance>
                            <Box size = '4.5 1 0.25'></Box>
                        </Shape>                   
                </Transform>
                
            </Group>

            <!-------------------------------------------Gaveta---------------------------------->
            <Transform def = "gaveta">
                    <Transform translation = "2.5 -0.75 2">
                            <Transform def  = "frente" >
                                    <Shape>
                                        <Appearance>
                                            <ImageTexture url = "./brow2.jpg";>
                                            </ImageTexture>
                                        </Appearance>
                                        <Box size = '3 0.75 0.25'></Box>
                                    </Shape>                                
                            </Transform>
                    </Transform>
                    <Transform translation = "2.5 -1 0" >
                            <Transform def = "tampo" >
                                    <Shape>
                                        <Appearance>
                                            <ImageTexture url = "./brow2.jpg";>
                                            </ImageTexture>
                                        </Appearance>
                                        <Box size = '3 0.25 4'></Box>
                                    </Shape>              
                            </Transform>                
                    </Transform>
                    <Transform translation = "1.8 -0.75 0">
                            <Transform def = "lateral">
                                    <Shape>
                                        <Appearance>
                                            <ImageTexture url = "./brow2.jpg";>
                                            </ImageTexture>
                                        </Appearance>
                                        <Box size = '0.5 0.5 4'></Box>
                                    </Shape>                    
                            </Transform>                
                    </Transform>
                    <Transform translation = "3.25 -0.75 0">
                            <Transform def = "lateral">
                                    <Shape>
                                        <Appearance>
                                            <ImageTexture url = "./brow2.jpg";>
                                            </ImageTexture>
                                        </Appearance>
                                        <Box size = '0.5 0.5 4'></Box>
                                    </Shape>                    
                            </Transform>
                    </Transform>
            </Transform>
            

            <!-------------------Porta------------------->
            <Transform def  = "porta" translation = "2.5 -2 2">
                    <Shape>
                        <Appearance>
                            <ImageTexture url = "./brow2.jpg";>
                            </ImageTexture>
                        </Appearance>
                        <Box size = '3 1.5 0.25'></Box>
                    </Shape>                                
            </Transform>

            <Transform translation = "2.5 -2.5 0">
                    <Shape USE = "tampo"/>
            </Transform>


            <!-- Animacao da gaveta -->
            <timeSensor DEF='clock' cycleInterval='6' loop='true'></timeSensor>
            <PositionInterpolator DEF='moveThings' key='0 0.5 1' keyValue='0 0 0  0 0 2  0 0 0'></PositionInterpolator>

            <ROUTE fromNode='clock' fromField='fraction_changed' toNode='moveThings' toField='set_fraction'></ROUTE>
            <ROUTE fromNode='moveThings' fromField='value_changed' toNode='gaveta' toField='translation'></ROUTE>


            <timeSensor DEF='clock' cycleInterval='6' loop='true'></timeSensor>
            <orientationInterpolator DEF='spinThings' key='0 0.5 1' keyValue='0 0 0 0  1 0 0 1.57079  0 0 0 0'></orientationInterpolator>

            <ROUTE fromNode='clock' fromField='fraction_changed' toNode='spinThings' toField='set_fraction'></ROUTE>
            <ROUTE fromNode='spinThings' fromField='value_changed' toNode='porta' toField='set_rotation'></ROUTE>

            
        </Scene>
     </X3D> 
</body>

</html>